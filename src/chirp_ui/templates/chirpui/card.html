{#- chirp-ui: Card component
    Headless card with optional header, footer, collapsible, and variants.

    Usage:
        from "chirpui/card.html" import card

        call card(title="My Card")
            <p>Card body content.</p>
        end

        call card(title="Details", footer="Last updated", collapsible=true)
            <p>Collapsible content.</p>
        end

        call card(title="Feature", variant="feature")
            media_slot: <img src="..." alt="...">
            <p>Body content.</p>
        end
-#}

{% def card(title=none, footer=none, collapsible=false, open=false, variant="", cls="") %}
{% set variant_class = " chirpui-card--" ~ variant if variant else "" %}
{% if collapsible %}
<details class="chirpui-card chirpui-card--collapsible{{ variant_class }}{{ " " ~ cls if cls else "" }}"{% if open %} open{% end %}>
    {% if title %}
        <summary class="chirpui-card__header">{{ title }}</summary>
    {% end %}
    <div class="chirpui-card__body">
        {% slot %}
    </div>
    {% if footer %}
        <footer class="chirpui-card__footer">{{ footer }}</footer>
    {% end %}
</details>
{% else %}
<article class="chirpui-card{{ variant_class }}{{ " " ~ cls if cls else "" }}">
    {% if title %}
        <header class="chirpui-card__header">{{ title }}</header>
    {% end %}
    <div class="chirpui-card__body">
        {% slot %}
    </div>
    {% if footer %}
        <footer class="chirpui-card__footer">{{ footer }}</footer>
    {% end %}
</article>
{% end %}
{% end %}

{% def card_media(cls="") %}
<div class="chirpui-card__media{{ " " ~ cls if cls else "" }}">
    {% slot %}
</div>
{% end %}
