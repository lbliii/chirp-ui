{% extends "base.html" %}

{% block content %}
{% from "chirpui/layout.html" import container, grid, stack, block, page_header %}
{% from "chirpui/modal.html" import modal, modal_trigger %}
{% from "chirpui/confirm.html" import confirm_dialog, confirm_trigger %}
{% from "chirpui/drawer.html" import drawer, drawer_trigger %}
{% from "chirpui/split_button.html" import split_button %}
{% from "chirpui/popover.html" import popover %}
{% from "chirpui/dropdown.html" import dropdown %}
{% from "chirpui/badge.html" import badge %}
{% from "chirpui/toast.html" import toast %}
{% from "chirpui/accordion.html" import accordion, accordion_item %}
{% from "chirpui/collapse.html" import collapse %}
{% from "chirpui/tooltip.html" import tooltip %}

{% call container() %}
{% call stack() %}
{{ page_header("UI Components", subtitle="modal, confirm_dialog, drawer, dropdown, tabs, badge, toast — Interactive elements.") }}

<h2>Modal</h2>
<div class="chirpui-block">
{{ modal_trigger("demo-modal", label="Open Modal") }}
{% call modal("demo-modal", title="Settings") %}
<p>Modal body content. Uses native <code>&lt;dialog&gt;</code>. Close with × or Escape.</p>
{% end %}
</div>

<h2>Confirm Dialog</h2>
<div class="chirpui-block">
{{ confirm_trigger("del-dlg", label="Delete item") }}
{{ confirm_dialog("del-dlg", title="Delete item?", message="This action cannot be undone.", confirm_label="Delete", cancel_label="Cancel", variant="danger") }}
<p class="chirpui-text-muted" style="margin-top: 0.5rem;">
  Destructive actions. variant="danger" for red confirm button.
</p>
</div>

<h2>Drawer</h2>
<div class="chirpui-block">
{{ drawer_trigger("side-drawer", label="Open drawer") }}
{% call drawer("side-drawer", title="Filters", side="right") %}
<p>Slide-out panel content. Use for filters, settings, or secondary nav.</p>
{% end %}
<p class="chirpui-text-muted" style="margin-top: 0.5rem;">
  side="left" or side="right". Native <code>&lt;dialog&gt;</code>.
</p>
</div>

<h2>Split Button</h2>
<div class="chirpui-block">
{% call split_button("Save", primary_href="/", variant="primary") %}
<a href="/save-as">Save as...</a>
<a href="/export">Export</a>
{% end %}
<p class="chirpui-text-muted" style="margin-top: 0.5rem;">
  Primary action + dropdown. Use primary_submit=true inside a form.
</p>
</div>

<h2>Popover</h2>
<div class="chirpui-block">
{% call popover(trigger_label="Filters") %}
<p style="margin: 0 0 0.5rem;">Filter by status:</p>
<button type="button" class="chirpui-btn chirpui-btn--primary chirpui-font-sm">Apply</button>
{% end %}
<p class="chirpui-text-muted" style="margin-top: 0.5rem;">
  Floating panel for forms, actions. Same HTML as dropdown, different styling.
</p>
</div>

<h2>Dropdown</h2>
{% call dropdown(label="Options") %}
<a href="/" class="chirpui-dropdown__item">Home</a>
<a href="/layout" class="chirpui-dropdown__item">Layout</a>
<a href="/cards" class="chirpui-dropdown__item">Cards</a>
{% end %}

<h2>Tabs</h2>
<div class="chirpui-block">
{% from "showcase/_tab_section.html" import tab_section %}
{{ tab_section("overview") }}
<p class="chirpui-text-muted" style="color: var(--chirpui-text-muted); margin-top: 0.5rem;">
  Click tabs to swap content via htmx. No full page reload.
</p>
</div>

<h2>Badges</h2>
{% call block() %}
<div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
{{ badge("Primary", variant="primary") }}
{{ badge("Success", variant="success") }}
{{ badge("Warning", variant="warning") }}
{{ badge("Error", variant="error") }}
{{ badge("With icon", variant="primary", icon="◆") }}
{{ badge("Active", variant="success", icon="✓") }}
</div>
{% end %}

<h2>Accordion</h2>
{% call block() %}
{% call accordion(name="faq") %}
{% call accordion_item("How do I sign up?", open=true, name="faq") %}
Click the Sign Up button in the top right and follow the registration steps.
{% end %}
{% call accordion_item("How do I reset my password?", name="faq") %}
Use the Forgot Password link on the login page. We'll email you a reset link.
{% end %}
{% call accordion_item("How do I update my profile?", name="faq") %}
Go to Settings → Profile to edit your name, email, and preferences.
{% end %}
{% end %}
<p class="chirpui-text-muted" style="color: var(--chirpui-text-muted); margin-top: 0.5rem;">
  Native <code>&lt;details&gt;</code> with <code>name</code> — only one open at a time.
</p>
{% end %}

<h2>Collapse</h2>
{% call block() %}
{% call collapse(trigger="Click to expand", open=false) %}
<p style="margin: 0;">Hidden content. Single expand/collapse section.</p>
{% end %}
{% end %}

<h2>Tooltip</h2>
{% call block() %}
{% call tooltip(hint="This is a helpful hint on hover") %}
<span class="chirpui-badge chirpui-badge--primary">Hover me</span>
{% end %}
{% call tooltip(hint="Keyboard shortcut: ⌘K") %}
<button type="button" class="chirpui-btn chirpui-btn--secondary">Search</button>
{% end %}
<p class="chirpui-text-muted" style="color: var(--chirpui-text-muted); margin-top: 0.5rem;">
  Pure CSS tooltip. Uses <code>title</code> for accessibility.
</p>
{% end %}

<h2>Toast</h2>
{% call block() %}
<button type="button"
        hx-post="/toast"
        hx-swap="none"
        hx-headers='{"HX-Request": "true"}'>
  Show toast
</button>
<p class="chirpui-text-muted" style="color: var(--chirpui-text-muted); margin-top: 0.5rem;">
  Toast appears via htmx OOB swap. Check top-right after clicking.
</p>
{% end %}

<p><a href="/">← Back to index</a></p>
{% end %}
{% end %}
{% end %}
